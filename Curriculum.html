<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alex`s portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>

</style>
<body>
    <div class="scanlines"></div>
    <div class="background"></div>
    <div class="container">
    <div class="bar">
        <span class="bar_content">
            Film as dream, film as music. No art passes our conscience in the way film does, and goes directly to our feelings, deep down into the dark rooms of our souls.  //  All truly strong people are kind.  //  A man with outward courage dares to die; a man with inner courage dares to live.  //  No matter how old you are, no matter what job you have, everyone has a future  //
        </span>
    </div>
    <br>
    <header><h1>Curriculum</h1></header>
    <nav>
        <a href="index.html">Home</a>
        <a href="About.html">About me!</a>
        <a href="Projects.html">My projects</a>
        <a href="Curriculum.html">Curriculum</a>
        <a href="Contact.html">Contact</a>
    </nav>
    <section id="Curriculum">

        <div id="embeddedView" style="height: 800px;"></div>
        <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
        <script>
const dropboxLink = "https://www.dropbox.com/scl/fi/knsrxh16my5c06l2o80ih/CV-Alex-Gimeno-Vernon.pdf?rlkey=fxbqxn6dt3wp9kcyldglq2a9u&st=xlh7b38i&dl=0";
const clientId = "e800d12fc12c4d60960778b2bc4370af";
const viewerOptions = {
    embedMode: "SIZED_CONTAINER",
    defaultViewMode: "FIT_WIDTH",
    showDownloadPDF: true,
    showPrintPDF: true,
    showLeftHandPanel: true,
    showAnnotationTools: true
};

document.addEventListener("adobe_dc_view_sdk.ready", function () {
    var urlToPDF = directLinkFromDropboxLink(dropboxLink);
    var adobeDCView = new AdobeDC.View({
        clientId: clientId,
        divId: "embeddedView"
    });
    adobeDCView.previewFile(
        {
            content: { promise: fetchPDF(urlToPDF) },
            metaData: { fileName: urlToPDF.split("/").slice(-1)[0] }
        },
        viewerOptions
    );
});

function fetchPDF(urlToPDF) {
    return new Promise((resolve) => {
        fetch(urlToPDF)
            .then((resolve) => resolve.blob())
            .then((blob) => {
                resolve(blob.arrayBuffer());
            })
    })
}

function directLinkFromDropboxLink(dropboxLink) {
    return dropboxLink.replace("www.dropbox.com", "dl.dropboxusercontent.com").replace("?dl=0", "");
}

(function () {
    if (Blob.arrayBuffer != "function") {
        Blob.prototype.arrayBuffer = myArrayBuffer;
    }
    function myArrayBuffer() {
        return new Promise((resolve) => {
            let fileReader = new FileReader();
            fileReader.onload = () => {
                resolve(fileReader.result);
            };
            fileReader.readAsArrayBuffer(this);
        });
    }
})();

function downloadPDF() {
    var urlToPDF = directLinkFromDropboxLink(dropboxLink);
    window.open(urlToPDF, '_blank');
}
        </script>
        
        <!-- Button to download PDF -->
        <button onclick="downloadPDF()">Download!</button>
        
    </section>
    <footer></footer>
</body>
</html>